<!-- [Keep your existing HTML structure unchanged] -->
<script>
  // [Keep your existing JavaScript, but update image path logic]
  function loadMessages() {
    fetch('/api/messages')
      .then(response => {
        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
        return response.json();
      })
      .then(messages => {
        const messageList = document.getElementById('messageList');
        messageList.innerHTML = '';
        if (!Array.isArray(messages)) {
          console.warn('Messages is not an array:', messages);
          messageList.innerHTML = '<li>Error loading messages or no data available</li>';
        } else if (messages.length === 0) {
          messageList.innerHTML = '<li>No messages yet.</li>';
        } else {
          messages.forEach(message => {
            const date = new Date(message.timestamp).toLocaleString('en-US', {
              year: 'numeric', month: 'short', day: 'numeric',
              hour: '2-digit', minute: '2-digit', hour12: true
            }) + ' EAT';
            const author = message.author || 'Anonymous';
            const li = document.createElement('li');
            li.innerHTML = `<span class="message-header">From: ${author}</span><br>${message.text}<br><span class="message-time">Posted on: ${date}</span>`;
            if (message.image) {
              li.innerHTML += `<br><img src="/${message.image}" alt="Guest image" style="max-width: 100px; border-radius: 50%;">`;
            }
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'Delete';
            deleteBtn.className = 'delete-btn';
            deleteBtn.onclick = () => deleteMessage(message._id.toString());
            li.appendChild(deleteBtn);

            const editBtn = document.createElement('button');
            editBtn.textContent = 'Edit';
            editBtn.className = 'edit-btn';
            editBtn.onclick = () => editMessage(message);
            li.appendChild(editBtn);

            messageList.appendChild(li);
          });
        }
      })
      .catch(err => {
        console.error('Error fetching messages:', err);
        document.getElementById('messageList').innerHTML = '<li>Error loading messages</li>';
      });
  }

  // [Keep other functions (deleteMessage, editMessage, etc.) unchanged]
</script>